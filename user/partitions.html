<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Working with Partitions &mdash; GerryChain  documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Updaters" href="updaters.html" />
    <link rel="prev" title="Running a chain with ReCom" href="recom.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #0099cd" >
            <a href="../index.html" class="icon icon-home"> GerryChain
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Overview of the Chain</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Getting started with GerryChain</a></li>
<li class="toctree-l1"><a class="reference internal" href="recom.html">Running a chain with ReCom</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Working with Partitions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-partition">Creating a partition</a></li>
<li class="toctree-l2"><a class="reference internal" href="#partition-graph-the-underlying-graph"><code class="docutils literal notranslate"><span class="pre">partition.graph</span></code>: the underlying graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="#partition-assignment-assign-nodes-to-parts"><code class="docutils literal notranslate"><span class="pre">partition.assignment</span></code>: assign nodes to parts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#partition-parts-the-nodes-in-each-part"><code class="docutils literal notranslate"><span class="pre">partition.parts</span></code>: the nodes in each part</a></li>
<li class="toctree-l2"><a class="reference internal" href="#partition-subgraphs-the-subgraphs-of-each-part"><code class="docutils literal notranslate"><span class="pre">partition.subgraphs</span></code>: the subgraphs of each part</a></li>
<li class="toctree-l2"><a class="reference internal" href="#outputs-of-updaters">Outputs of updaters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="updaters.html">Updaters</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Good Data Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="geometries.html">Working With Geometries</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimizers.html">Optimization Methods of GerryChain</a></li>
<li class="toctree-l1"><a class="reference internal" href="geometric_optimizers.html">Advanced Example: Optimizing Using Geographic Quantities</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../topics/reproducibility.html">Reproducibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/tools.html">Evaluating districting plans in the real world</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/contributing.html">Contributing to GerryChain</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/reporting.html">Reporting Issues</a></li>
</ul>
<p class="caption"><span class="caption-text">Index</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../full_ref.html">Full Package Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #0099cd" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GerryChain</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Working with Partitions</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user/partitions.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="working-with-partitions">
<h1>Working with Partitions<a class="headerlink" href="#working-with-partitions" title="Permalink to this headline">¶</a></h1>
<div class="center-container">
  <a href="https://github.com/mggg/GerryChain/tree/main/docs/_static/PA_VTDs.json" class="download-badge" download>Download PA File</a>
</div>
<br style="line-height: 5px;"><p>This document walks you through the most common ways that you might work with a
GerryChain <code class="docutils literal notranslate"><span class="pre">Partition</span></code> object.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gerrychain</span> <span class="kn">import</span> <span class="n">Partition</span><span class="p">,</span> <span class="n">Graph</span>
<span class="kn">from</span> <span class="nn">gerrychain.updaters</span> <span class="kn">import</span> <span class="n">cut_edges</span>
</pre></div>
</div>
<p>We’ll use our
<a class="reference external" href="https://github.com/mggg/GerryChain/tree/main/docs/_static/PA_VTDs.json">Pennsylvania VTD json</a>
to create the graph we’ll use in these examples.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">graph</span> <span class="o">=</span> <span class="n">Graph</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="s2">&quot;./PA_VTDs.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="creating-a-partition">
<h2>Creating a partition<a class="headerlink" href="#creating-a-partition" title="Permalink to this headline">¶</a></h2>
<p>There are a couple of ways in which we could make a partition. The first way is to
just make a random assignment with a population balance of <span class="math notranslate nohighlight">\(\varepsilon\)</span></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">partition</span> <span class="o">=</span> <span class="n">Partition</span><span class="o">.</span><span class="n">from_random_assignment</span><span class="p">(</span>
    <span class="n">graph</span><span class="o">=</span><span class="n">graph</span><span class="p">,</span>
    <span class="n">n_parts</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">epsilon</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
    <span class="n">pop_col</span><span class="o">=</span><span class="s2">&quot;TOT_POP&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>However, in this example we will create a partition based on the “2011_PLA_1” plan
that already exists in the file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">partition</span> <span class="o">=</span> <span class="n">Partition</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="s2">&quot;2011_PLA_1&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;cut_edges&quot;</span><span class="p">:</span> <span class="n">cut_edges</span><span class="p">})</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Partition</span></code> class takes three arguments to create a Partition:</p>
<ul class="simple">
<li><p>A <strong>graph</strong>.</p></li>
<li><p>An <strong>assignment of nodes to districts</strong>. This can be the string name of a
node attribute (shapefile column) that holds each node’s district
assignment, or a dictionary mapping each node ID to its assigned district
ID.</p></li>
<li><p>A dictionary of <strong>updaters</strong>.</p></li>
</ul>
<p>This creates a partition of the <code class="docutils literal notranslate"><span class="pre">graph</span></code> object we created above from the
Pennsylvania shapefile. The partition is defined by the <code class="docutils literal notranslate"><span class="pre">&quot;CD_2011&quot;</span></code> column
from our shapefile’s attribute table.</p>
</div>
<div class="section" id="partition-graph-the-underlying-graph">
<h2><code class="docutils literal notranslate"><span class="pre">partition.graph</span></code>: the underlying graph<a class="headerlink" href="#partition-graph-the-underlying-graph" title="Permalink to this headline">¶</a></h2>
<p>You can access the partition’s underlying Graph as <code class="docutils literal notranslate"><span class="pre">partition.graph</span></code>. This
contains no information about the partition—it will be the same graph object
that you passed in to <code class="docutils literal notranslate"><span class="pre">Partition()</span></code> when you created the partition instance.</p>
<p><code class="docutils literal notranslate"><span class="pre">partition.graph</span></code> is a
<a class="reference external" href="https://gerrychain.readthedocs.io/en/latest/api.html#gerrychain.Graph">gerrychain.Graph</a>
object. It is based on the NetworkX Graph object, so any functions (e.g.
<a class="reference external" href="https://networkx.github.io/documentation/stable/reference/algorithms/generated/networkx.algorithms.components.connected_components.html#networkx.algorithms.components.connected_components">connected_components</a>)
you can find in the <a class="reference external" href="https://networkx.github.io/">NetworkX documentation</a> will be compatible.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">partition</span><span class="o">.</span><span class="n">graph</span>
</pre></div>
</div>
<p>prints something like:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">&lt;gerrychain.graph.graph.FrozenGraph object at 0x7fb0a93bbfa0&gt;</span>
</pre></div>
</div>
<p>Now we have a graph of Pennsylvania’s VTDs, with all of the data from our
shapefile’s attribute table attached to the graph as <em>node attributes</em>. We can
see the data that a node has like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">partition</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>which will output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">{&#39;boundary_node&#39;: False,</span>
<span class="go">&#39;area&#39;: 0.0063017857514999324,</span>
<span class="go">&#39;STATEFP10&#39;: &#39;42&#39;,</span>
<span class="go">&#39;COUNTYFP10&#39;: &#39;039&#39;,</span>
<span class="go">&#39;VTDST10&#39;: &#39;60&#39;,</span>
<span class="go">&#39;GEOID10&#39;: &#39;42039060&#39;,</span>
<span class="go">&#39;VTDI10&#39;: &#39;A&#39;,</span>
<span class="go">&#39;NAME10&#39;: &#39;CAMBRIDGE SPRINGS Voting District&#39;,</span>
<span class="go">&#39;NAMELSAD10&#39;: &#39;CAMBRIDGE SPRINGS Voting District&#39;,</span>
<span class="go">&#39;LSAD10&#39;: &#39;00&#39;,</span>
<span class="go">&#39;MTFCC10&#39;: &#39;G5240&#39;,</span>
<span class="go">&#39;FUNCSTAT10&#39;: &#39;N&#39;,</span>
<span class="go">&#39;ALAND10&#39;: 2258229,</span>
<span class="go">&#39;AWATER10&#39;: 0,</span>
<span class="go">&#39;INTPTLAT10&#39;: &#39;+41.8018353&#39;,</span>
<span class="go">&#39;INTPTLON10&#39;: &#39;-080.0596566&#39;,</span>
<span class="go">&#39;ATG12D&#39;: 0.0,</span>
<span class="go">&#39;ATG12R&#39;: 0.0,</span>
<span class="go">&#39;GOV10D&#39;: 0.0,</span>
<span class="go">&#39;GOV10R&#39;: 0.0,</span>
<span class="go">&#39;PRES12D&#39;: 0.0,</span>
<span class="go">&#39;PRES12O&#39;: 0.0,</span>
<span class="go">&#39;PRES12R&#39;: 0.0,</span>
<span class="go">&#39;SEN10D&#39;: 0.0,</span>
<span class="go">&#39;SEN10R&#39;: 0.0,</span>
<span class="go">&#39;T16ATGD&#39;: 0.0,</span>
<span class="go">&#39;T16ATGR&#39;: 0.0,</span>
<span class="go">&#39;T16PRESD&#39;: 0,</span>
<span class="go">&#39;T16PRESOTH&#39;: 0.0,</span>
<span class="go">&#39;T16PRESR&#39;: 0,</span>
<span class="go">&#39;T16SEND&#39;: 0,</span>
<span class="go">&#39;T16SENR&#39;: 0,</span>
<span class="go">&#39;USS12D&#39;: 0.0,</span>
<span class="go">&#39;USS12R&#39;: 0.0,</span>
<span class="go">&#39;GOV&#39;: 3,</span>
<span class="go">&#39;TS&#39;: 5,</span>
<span class="go">&#39;HISP_POP&#39;: 0,</span>
<span class="go">&#39;TOT_POP&#39;: 0,</span>
<span class="go">&#39;WHITE_POP&#39;: 0,</span>
<span class="go">&#39;BLACK_POP&#39;: 0,</span>
<span class="go">&#39;NATIVE_POP&#39;: 0,</span>
<span class="go">&#39;ASIAN_POP&#39;: 0,</span>
<span class="go">&#39;F2014GOVD&#39;: 1,</span>
<span class="go">&#39;F2014GOVR&#39;: 1,</span>
<span class="go">&#39;2011_PLA_1&#39;: 3,</span>
<span class="go">&#39;REMEDIAL_P&#39;: 14,</span>
<span class="go">&#39;538CPCT__1&#39;: 3,</span>
<span class="go">&#39;538DEM_PL&#39;: 3,</span>
<span class="go">&#39;538GOP_PL&#39;: 3,</span>
<span class="go">&#39;8THGRADE_1&#39;: 1}</span>
</pre></div>
</div>
</div>
<div class="section" id="partition-assignment-assign-nodes-to-parts">
<h2><code class="docutils literal notranslate"><span class="pre">partition.assignment</span></code>: assign nodes to parts<a class="headerlink" href="#partition-assignment-assign-nodes-to-parts" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">partition.assignment</span></code> gives you a mapping from node IDs to part IDs (“part” is
our generic word for “district”). It is a custom data structure but you can use
it just like a dictionary. So the code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">first_ten_nodes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">partition</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">nodes</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">first_ten_nodes</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">partition</span><span class="o">.</span><span class="n">assignment</span><span class="p">[</span><span class="n">node</span><span class="p">])</span>
</pre></div>
</div>
<p>will output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">3</span>
<span class="go">3</span>
<span class="go">3</span>
<span class="go">3</span>
<span class="go">3</span>
<span class="go">3</span>
<span class="go">3</span>
<span class="go">10</span>
<span class="go">10</span>
<span class="go">10</span>
</pre></div>
</div>
</div>
<div class="section" id="partition-parts-the-nodes-in-each-part">
<h2><code class="docutils literal notranslate"><span class="pre">partition.parts</span></code>: the nodes in each part<a class="headerlink" href="#partition-parts-the-nodes-in-each-part" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">partition.parts</span></code> gives you a mapping from each part ID to the set of nodes that
belong to that part. This is the “opposite” mapping of <code class="docutils literal notranslate"><span class="pre">assignment</span></code>.</p>
<p>As an example, let’s print out the number of nodes in each part:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">partition</span><span class="o">.</span><span class="n">parts</span><span class="p">:</span>
    <span class="n">number_of_nodes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">partition</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="n">part</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Part </span><span class="si">{part}</span><span class="s2"> has </span><span class="si">{number_of_nodes}</span><span class="s2"> nodes&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This will give us:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Part 3 has 469 nodes</span>
<span class="go">Part 10 has 462 nodes</span>
<span class="go">Part 9 has 515 nodes</span>
<span class="go">Part 5 has 513 nodes</span>
<span class="go">Part 15 has 317 nodes</span>
<span class="go">Part 6 has 310 nodes</span>
<span class="go">Part 11 has 440 nodes</span>
<span class="go">Part 8 has 337 nodes</span>
<span class="go">Part 4 has 271 nodes</span>
<span class="go">Part 18 has 591 nodes</span>
<span class="go">Part 12 has 597 nodes</span>
<span class="go">Part 17 has 412 nodes</span>
<span class="go">Part 7 has 404 nodes</span>
<span class="go">Part 16 has 322 nodes</span>
<span class="go">Part 14 has 867 nodes</span>
<span class="go">Part 13 has 548 nodes</span>
<span class="go">Part 2 has 828 nodes</span>
<span class="go">Part 1 has 718 nodes</span>
</pre></div>
</div>
</div>
<div class="section" id="partition-subgraphs-the-subgraphs-of-each-part">
<h2><code class="docutils literal notranslate"><span class="pre">partition.subgraphs</span></code>: the subgraphs of each part<a class="headerlink" href="#partition-subgraphs-the-subgraphs-of-each-part" title="Permalink to this headline">¶</a></h2>
<p>For each part of our partition, we can look at the _subgraph_ that it defines.
That is, we can look at the graph made up of all the nodes in a certain part and
all the edges between those nodes.</p>
<p><code class="docutils literal notranslate"><span class="pre">partition.subgraphs</span></code> gives us a mapping (like a dictionary) from part IDs to
their subgraphs. These subgraphs are NetworkX Subgraph objects, and work exactly
like our main graph object—nodes, edges, and node attributes all work the same
way.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">part</span><span class="p">,</span> <span class="n">subgraph</span> <span class="ow">in</span> <span class="n">partition</span><span class="o">.</span><span class="n">subgraphs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">number_of_edges</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">subgraph</span><span class="o">.</span><span class="n">edges</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Part </span><span class="si">{part}</span><span class="s2"> has </span><span class="si">{number_of_edges}</span><span class="s2"> edges&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This will output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Part 3 has 1195 edges</span>
<span class="go">Part 10 has 1183 edges</span>
<span class="go">Part 9 has 1314 edges</span>
<span class="go">Part 5 has 1349 edges</span>
<span class="go">Part 15 has 824 edges</span>
<span class="go">Part 6 has 745 edges</span>
<span class="go">Part 11 has 1134 edges</span>
<span class="go">Part 8 has 881 edges</span>
<span class="go">Part 4 has 693 edges</span>
<span class="go">Part 18 has 1575 edges</span>
<span class="go">Part 12 has 1559 edges</span>
<span class="go">Part 17 has 1015 edges</span>
<span class="go">Part 7 has 930 edges</span>
<span class="go">Part 16 has 825 edges</span>
<span class="go">Part 14 has 2344 edges</span>
<span class="go">Part 13 has 1362 edges</span>
<span class="go">Part 2 has 2159 edges</span>
<span class="go">Part 1 has 1780 edges</span>
</pre></div>
</div>
<p>Let’s use NetworkX’s
<a class="reference external" href="https://networkx.github.io/documentation/stable/reference/algorithms/generated/networkx.algorithms.distance_measures.diameter.html">diameter</a>
function to compute the diameter of each part subgraph. (The _diameter_ of a graph is
the length of the longest path in the set of shortest paths between any two nodes in the
given graph, but you don’t have to know that!)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">networkx</span>
<span class="k">for</span> <span class="n">part</span><span class="p">,</span> <span class="n">subgraph</span> <span class="ow">in</span> <span class="n">partition</span><span class="o">.</span><span class="n">subgraphs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">diameter</span> <span class="o">=</span> <span class="n">networkx</span><span class="o">.</span><span class="n">diameter</span><span class="p">(</span><span class="n">subgraph</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Part </span><span class="si">{part}</span><span class="s2"> has diameter </span><span class="si">{diameter}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>This outputs:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Part 3 has diameter 40</span>
<span class="go">Part 10 has diameter 40</span>
<span class="go">Part 9 has diameter 40</span>
<span class="go">Part 5 has diameter 29</span>
<span class="go">Part 15 has diameter 28</span>
<span class="go">Part 6 has diameter 32</span>
<span class="go">Part 11 has diameter 31</span>
<span class="go">Part 8 has diameter 24</span>
<span class="go">Part 4 has diameter 19</span>
<span class="go">Part 18 has diameter 28</span>
<span class="go">Part 12 has diameter 35</span>
<span class="go">Part 17 has diameter 35</span>
<span class="go">Part 7 has diameter 38</span>
<span class="go">Part 16 has diameter 38</span>
<span class="go">Part 14 has diameter 38</span>
<span class="go">Part 13 has diameter 30</span>
<span class="go">Part 2 has diameter 28</span>
<span class="go">Part 1 has diameter 50</span>
</pre></div>
</div>
</div>
<div class="section" id="outputs-of-updaters">
<h2>Outputs of updaters<a class="headerlink" href="#outputs-of-updaters" title="Permalink to this headline">¶</a></h2>
<p>The other main way we can extract information from <code class="docutils literal notranslate"><span class="pre">partition</span></code> is through the
updaters that we configured when we created it. We gave <code class="docutils literal notranslate"><span class="pre">partition</span></code> just one
updater, <code class="docutils literal notranslate"><span class="pre">cut_edges</span></code>. This is the set of edges that go between nodes that are in
_different_ parts of the partition. We should note that the updaters for
our partition are both an item and an attribute of the partition, so we can
access them with:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">partition</span><span class="p">[</span><span class="s2">&quot;cut_edges&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>which outputs:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">2361</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">partition</span><span class="o">.</span><span class="n">cut_edges</span><span class="p">)</span>
</pre></div>
</div>
<p>which also outputs:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">2361</span>
</pre></div>
</div>
<p>So if we wanted to print out the proportion of cut edges present within our graph,
we might write:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">proportion_of_cut_edges</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">partition</span><span class="o">.</span><span class="n">cut_edges</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">partition</span><span class="o">.</span><span class="n">graph</span><span class="o">.</span><span class="n">edges</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Proportion of edges that are cut:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">proportion_of_cut_edges</span><span class="p">)</span>
</pre></div>
</div>
<p>this will output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">Proportion of edges that are cut:</span>
<span class="go">0.09358649120025368</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="recom.html" class="btn btn-neutral float-left" title="Running a chain with ReCom" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="updaters.html" class="btn btn-neutral float-right" title="Updaters" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Metric Geometry and Gerrymandering Group.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>