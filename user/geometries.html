<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Working With Geometries &mdash; GerryChain  documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API Reference" href="../api.html" />
    <link rel="prev" title="Good Data Practices" href="data.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #0099cd" >
            <a href="../index.html" class="icon icon-home"> GerryChain
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Overview of the Chain</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Getting started with GerryChain</a></li>
<li class="toctree-l1"><a class="reference internal" href="recom.html">Running a chain with ReCom</a></li>
<li class="toctree-l1"><a class="reference internal" href="partitions.html">Working with Partitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="updaters.html">Updaters</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Good Data Practices</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Working With Geometries</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#loading-and-running-a-plan">Loading and Running a Plan</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../topics/reproducibility.html">Reproducibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/tools.html">Evaluating districting plans in the real world</a></li>
<li class="toctree-l1"><a class="reference internal" href="../topics/contributing.html">Contributing to GerryChain</a></li>
</ul>
<p class="caption"><span class="caption-text">Index</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../full_ref.html">Full Package Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #0099cd" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GerryChain</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Working With Geometries</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user/geometries.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="working-with-geometries">
<h1>Working With Geometries<a class="headerlink" href="#working-with-geometries" title="Permalink to this headline">¶</a></h1>
<p>In the course of working with legislative redistricting data, it is inevitable that
we will have to work with files that contain geometries. Most often, these geometries
come in the form of shapefiles, which, while nice in theory, can be a bit of a pain to
work with in practice. For now, we will focus on the basics of working with geometries,
but the interested reader is encouraged to explore our partnered library,
<a class="reference external" href="https://github.com/mggg/maup#readme">maup</a>, which is specifically designed to
help fix tricky geometry problems. Specifically, in the event that you are working with
a shapefile and run in to an error of the flavour:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">UserWarning: Found overlaps among the given polygons.</span>
<span class="go">Indices of overlaps: {(887, 892), (893, 915), (892, 914), (887, 893)}</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">UserWarning: Found islands (degree-0 nodes). Indices of islands: {2552, 3107}</span>
<span class="go">&quot;Found islands (degree-0 nodes). Indices of islands: {}&quot;.format(islands)</span>
</pre></div>
</div>
<p>then you should consider consulting the
<a class="reference external" href="https://github.com/mggg/maup/wiki/">maup documentation</a>
to see if it can help you out.</p>
<div class="section" id="loading-and-running-a-plan">
<h2>Loading and Running a Plan<a class="headerlink" href="#loading-and-running-a-plan" title="Permalink to this headline">¶</a></h2>
<div class="center-container">
  <a href="https://github.com/mggg/GerryChain/raw/main/docs/_static/MN.zip" class="download-badge" download>Download MN File</a>
</div>
<br style="line-height: 5px;"><p>For this example, we will make use of a Minnesota GeoJSON file that contains
the geometries of the state’s precincts (you will need to unzip the above
folder to get to the file – it’s a bit large). We will follow a similar workflow to
what we already covered in the <a class="reference external" href="./recom.html">ReCom Section</a>, but with an eye
towards some of the conveniences afforded by <code class="docutils literal notranslate"><span class="pre">GeographicPartition</span></code> objects. As always,
we’ll start with the imports:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">gerrychain</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Partition</span><span class="p">,</span> <span class="n">Graph</span><span class="p">,</span> <span class="n">MarkovChain</span><span class="p">,</span>
                        <span class="n">updaters</span><span class="p">,</span> <span class="n">constraints</span><span class="p">,</span> <span class="n">accept</span><span class="p">,</span>
                        <span class="n">GeographicPartition</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">gerrychain.proposals</span> <span class="kn">import</span> <span class="n">recom</span>
<span class="kn">from</span> <span class="nn">gerrychain.tree</span> <span class="kn">import</span> <span class="n">bipartition_tree</span>
<span class="kn">from</span> <span class="nn">gerrychain.constraints</span> <span class="kn">import</span> <span class="n">contiguous</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<span class="kn">import</span> <span class="nn">pandas</span>

<span class="c1"># Set the random seed so that the results are reproducible!</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
</pre></div>
</div>
<p>And now we load the graph from the GeoJSON file</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">graph</span> <span class="o">=</span> <span class="n">Graph</span><span class="o">.</span><span class="n">from_file</span><span class="p">(</span><span class="s2">&quot;MN_precincts.geojson&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>as well as define our updaters and initial partition</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">my_updaters</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;population&quot;</span><span class="p">:</span> <span class="n">updaters</span><span class="o">.</span><span class="n">Tally</span><span class="p">(</span><span class="s2">&quot;TOTPOP&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;population&quot;</span><span class="p">),</span>
    <span class="s2">&quot;cut_edges&quot;</span><span class="p">:</span> <span class="n">updaters</span><span class="o">.</span><span class="n">cut_edges</span><span class="p">,</span>
    <span class="s2">&quot;perimeter&quot;</span><span class="p">:</span> <span class="n">updaters</span><span class="o">.</span><span class="n">perimeter</span><span class="p">,</span>
    <span class="s2">&quot;area&quot;</span><span class="p">:</span> <span class="n">updaters</span><span class="o">.</span><span class="n">Tally</span><span class="p">(</span><span class="s2">&quot;area&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;area&quot;</span><span class="p">),</span>
<span class="p">}</span>

<span class="n">initial_partition</span> <span class="o">=</span> <span class="n">GeographicPartition</span><span class="p">(</span>
    <span class="n">graph</span><span class="p">,</span>
    <span class="n">assignment</span><span class="o">=</span><span class="s2">&quot;CONGDIST&quot;</span><span class="p">,</span>
    <span class="n">updaters</span><span class="o">=</span><span class="n">my_updaters</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The observant reader will notice that we have added two new updaters, <code class="docutils literal notranslate"><span class="pre">perimeter</span></code>,
and <code class="docutils literal notranslate"><span class="pre">area</span></code>, <a class="footnote-reference brackets" href="#id3" id="id1">1</a> and we are now using the <code class="docutils literal notranslate"><span class="pre">GeographicPartition</span></code> class instead of the
<code class="docutils literal notranslate"><span class="pre">Partition</span></code> class. The <code class="docutils literal notranslate"><span class="pre">GeographicPartition</span></code> class is a subclass of the
<code class="docutils literal notranslate"><span class="pre">Partition</span></code> class that allows us the capability of working with geometries throughout
our Markov chain, and the <code class="docutils literal notranslate"><span class="pre">perimeter</span></code> and <code class="docutils literal notranslate"><span class="pre">area</span></code> updaters are examples of such a
geometric updater that was previously unavailable to us. These updaters are necessary for
monitoring things like geometric compactness and area via metrics such as the Polsby-Popper
test. <a class="footnote-reference brackets" href="#id4" id="id2">2</a></p>
<p>And now it is time for one of the first conveniences of the <code class="docutils literal notranslate"><span class="pre">GeographicPartition</span></code> class:
we can plot our map and see the initial partition!</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">initial_partition</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/MN_initial_partition.png"><img alt="../_images/MN_initial_partition.png" class="align-center" src="../_images/MN_initial_partition.png" style="height: 400px;" /></a>
<p>Of course, this isn’t very pretty, so let’s pass it some additional arguments to
things a bit nicer:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Initial Partition in MN&quot;</span><span class="p">)</span>
<span class="n">initial_partition</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;tab20c&#39;</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/MN_initial_partition_pretty.png"><img alt="../_images/MN_initial_partition_pretty.png" class="align-center" src="../_images/MN_initial_partition_pretty.png" style="height: 400px;" /></a>
<p>Under the hood, the <code class="docutils literal notranslate"><span class="pre">plot</span></code> method is using the <code class="docutils literal notranslate"><span class="pre">geodataframe.plot</span></code> method from
<a class="reference external" href="https://geopandas.org/">geopandas</a> to plot the geometries, and all of this is
built on top of <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>, so most of the standard methods for modifying a
<code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> plot will work here as well.</p>
<p>Now that we have our initial partition, we can run a Markov chain on it just as we
have previously:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ideal_population</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">initial_partition</span><span class="p">[</span><span class="s2">&quot;population&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">initial_partition</span><span class="p">)</span>


<span class="n">proposal</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span>
    <span class="n">recom</span><span class="p">,</span>
    <span class="n">pop_col</span><span class="o">=</span><span class="s2">&quot;TOTPOP&quot;</span><span class="p">,</span>
    <span class="n">pop_target</span><span class="o">=</span><span class="n">ideal_population</span><span class="p">,</span>
    <span class="n">epsilon</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
    <span class="n">node_repeats</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">recom_chain</span> <span class="o">=</span> <span class="n">MarkovChain</span><span class="p">(</span>
    <span class="n">proposal</span><span class="o">=</span><span class="n">proposal</span><span class="p">,</span>
    <span class="n">constraints</span><span class="o">=</span><span class="p">[</span><span class="n">contiguous</span><span class="p">],</span>
    <span class="n">accept</span><span class="o">=</span><span class="n">accept</span><span class="o">.</span><span class="n">always_accept</span><span class="p">,</span>
    <span class="n">initial_state</span><span class="o">=</span><span class="n">initial_partition</span><span class="p">,</span>
    <span class="n">total_steps</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>And the next bit of code will make a fun little widget that will allow us to
watch the chain work!</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
<span class="kn">import</span> <span class="nn">matplotlib_inline.backend_inline</span>
<span class="n">matplotlib_inline</span><span class="o">.</span><span class="n">backend_inline</span><span class="o">.</span><span class="n">set_matplotlib_formats</span><span class="p">(</span><span class="s1">&#39;png&#39;</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">import</span> <span class="nn">matplotlib.cm</span> <span class="k">as</span> <span class="nn">mcm</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">clear_output</span>

<span class="n">frames</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">district_data</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">partition</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">recom_chain</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">district_name</span> <span class="ow">in</span> <span class="n">partition</span><span class="o">.</span><span class="n">perimeter</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">population</span> <span class="o">=</span> <span class="n">partition</span><span class="o">.</span><span class="n">population</span><span class="p">[</span><span class="n">district_name</span><span class="p">]</span>
        <span class="n">perimeter</span> <span class="o">=</span> <span class="n">partition</span><span class="o">.</span><span class="n">perimeter</span><span class="p">[</span><span class="n">district_name</span><span class="p">]</span>
        <span class="n">area</span> <span class="o">=</span> <span class="n">partition</span><span class="o">.</span><span class="n">area</span><span class="p">[</span><span class="n">district_name</span><span class="p">]</span>
        <span class="n">district_data</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="n">district_name</span><span class="p">,</span> <span class="n">population</span><span class="p">,</span> <span class="n">perimeter</span><span class="p">,</span> <span class="n">area</span><span class="p">))</span>

    <span class="n">buffer</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">()</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
    <span class="n">partition</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;tab20&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">([])</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
    <span class="n">buffer</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>
    <span class="n">frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="n">district_data</span><span class="p">,</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">[</span>
        <span class="s1">&#39;step&#39;</span><span class="p">,</span>
        <span class="s1">&#39;district_name&#39;</span><span class="p">,</span>
        <span class="s1">&#39;population&#39;</span><span class="p">,</span>
        <span class="s1">&#39;perimeter&#39;</span><span class="p">,</span>
        <span class="s1">&#39;area&#39;</span>
    <span class="p">]</span>
<span class="p">)</span>

<span class="k">def</span> <span class="nf">show_frame</span><span class="p">(</span><span class="n">idx</span><span class="p">):</span>
    <span class="n">clear_output</span><span class="p">(</span><span class="n">wait</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">frames</span><span class="p">[</span><span class="n">idx</span><span class="p">])</span>

<span class="n">slider</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">IntSlider</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Frame:&#39;</span><span class="p">)</span>
<span class="n">slider</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="s1">&#39;500px&#39;</span>
<span class="n">widgets</span><span class="o">.</span><span class="n">interactive</span><span class="p">(</span><span class="n">show_frame</span><span class="p">,</span> <span class="n">idx</span><span class="o">=</span><span class="n">slider</span><span class="p">)</span>
</pre></div>
</div>
<p>which should look something like this:</p>
<a class="reference internal image-reference" href="../_images/MN_geopartition_ensamble.gif"><img alt="../_images/MN_geopartition_ensamble.gif" class="align-center" src="../_images/MN_geopartition_ensamble.gif" style="height: 400px;" /></a>
<p>and our dataframe has collected all of the data we were interested in:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 9%" />
<col style="width: 23%" />
<col style="width: 18%" />
<col style="width: 23%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>step</p></th>
<th class="head"><p>district_name</p></th>
<th class="head"><p>population</p></th>
<th class="head"><p>perimeter</p></th>
<th class="head"><p>area</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>8</p></td>
<td><p>662998.0</p></td>
<td><p>1.804646e+06</p></td>
<td><p>7.807545e+10</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>6</p></td>
<td><p>662979.0</p></td>
<td><p>6.616450e+05</p></td>
<td><p>7.864760e+09</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>0</p></td>
<td><p>5</p></td>
<td><p>662985.0</p></td>
<td><p>1.133867e+05</p></td>
<td><p>3.678103e+08</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>0</p></td>
<td><p>3</p></td>
<td><p>662994.0</p></td>
<td><p>2.625007e+05</p></td>
<td><p>1.509425e+09</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>0</p></td>
<td><p>7</p></td>
<td><p>662997.0</p></td>
<td><p>2.288428e+06</p></td>
<td><p>9.165192e+10</p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="id3"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">perimeter</span></code> and <code class="docutils literal notranslate"><span class="pre">area</span></code> attributes are actually not present in the
MN_precincts.geojson file, but the <code class="docutils literal notranslate"><span class="pre">GeographicPartition</span></code> class will calculate
them at instantiation time using the geometries provided in the file.</p>
</dd>
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>The Poslby-Popper test is a part of <code class="docutils literal notranslate"><span class="pre">gerrychain</span></code>’s <code class="docutils literal notranslate"><span class="pre">metrics</span></code> submodule
as well.</p>
</dd>
</dl>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="data.html" class="btn btn-neutral float-left" title="Good Data Practices" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../api.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Metric Geometry and Gerrymandering Group.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>